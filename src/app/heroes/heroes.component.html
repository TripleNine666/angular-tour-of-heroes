<h2 fxLayoutAlign="center center">{{ 'heroes.title' | translate}}</h2>

<div fxLayout="column" fxLayoutAlign="center center">
  <button
    mat-raised-button
    color="primary"
    class="add-button"
    routerLink="/add-hero"
  >
    {{ 'heroes.button.addHero' | translate}}
  </button>
</div>

<mat-form-field>
  <mat-label>{{ 'heroes.filter.label' | translate }}</mat-label>
  <input
    matInput
    (keyup)="applyFilter($event)"
    placeholder="{{ 'heroes.filter.placeholder' | translate}}"
    #input
  />
</mat-form-field>

<!-- Table of heroes -->
<mat-table
  [dataSource]="dataSource"
  matSort
  class="mat-elevation-z8 demo-table"
>

  <!-- hero name column -->
  <ng-container matColumnDef="name">
    <mat-header-cell *matHeaderCellDef mat-sort-header
      >{{ 'heroes.table.column.name' | translate }}</mat-header-cell
    >
    <mat-cell *matCellDef="let element">{{ element.name }}</mat-cell>
  </ng-container>

  <!-- hero age column -->
  <ng-container matColumnDef="age">
    <mat-header-cell *matHeaderCellDef mat-sort-header
      >{{ 'heroes.table.column.age' | translate }}</mat-header-cell
    >
    <mat-cell *matCellDef="let element">{{ element.age }}</mat-cell>
  </ng-container>

  <!-- hero class column -->
  <ng-container matColumnDef="class">
    <mat-header-cell *matHeaderCellDef mat-sort-header
      >{{ 'heroes.table.column.class' | translate }}</mat-header-cell
    >
    <mat-cell *matCellDef="let element">{{ element.class }}</mat-cell>
  </ng-container>

  <!-- hero race column -->
  <ng-container matColumnDef="race">
    <mat-header-cell *matHeaderCellDef mat-sort-header
      >{{ 'heroes.table.column.race' | translate }}</mat-header-cell
    >
    <mat-cell *matCellDef="let element">{{ element.race }}</mat-cell>
  </ng-container>

  <!-- hero sex column -->
  <ng-container matColumnDef="sex">
    <mat-header-cell *matHeaderCellDef mat-sort-header
      >{{ 'heroes.table.column.sex' | translate }}</mat-header-cell
    >
    <mat-cell *matCellDef="let element">{{ element.sex }}</mat-cell>
  </ng-container>

  <!-- hero options column -->
  <ng-container matColumnDef="options">
    <mat-header-cell *matHeaderCellDef>{{ 'heroes.table.column.options' | translate }}</mat-header-cell>
    <mat-cell *matCellDef="let element" fxLayoutAlign="space-between">
      <button
        mat-icon-button
        color="accent"
        matListItemMeta
        routerLink="/detail/{{ element.key }}"
      >
        <mat-icon>edit</mat-icon>
      </button>
      <button
        mat-icon-button
        color="warn"
        matListItemMeta
        (click)="openDialog(element)"
      >
        <mat-icon>close</mat-icon>
      </button>
    </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>

  <!-- Row shown when there is no matching data. -->
  <tr class="mat-row" *matNoDataRow fxLayoutAlign="center">
    <td class="mat-cell" colspan="4">
      {{ 'heroes.table.noFound' | translate }} "{{ input.value }}"
    </td>
  </tr>
</mat-table>
